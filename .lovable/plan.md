

# Премиальный редизайн чата AI Аналитика

## Проблема

Сейчас чат выглядит «топорно»:
- Markdown (`**жирный**`, `### заголовки`, `* списки`) отображается как сырой текст
- Пузыри сообщений без визуальной утонченности
- Нет ощущения премиальности

## Решение

### 1. Рендеринг Markdown

Установить `react-markdown` и использовать его для ответов ассистента. Это автоматически превратит `**`, `###`, `*` в красиво отформатированный текст с заголовками, жирным шрифтом и списками.

### 2. Apple-стиль визуала

**Пузыри сообщений:**
- Ассистент: полупрозрачный фон с легким размытием (`backdrop-blur`), без лишних бордеров
- Пользователь: чистый градиент от `primary` к чуть более темному тону
- Убрать аватары — минимализм, и так понятно кто пишет по расположению

**Типографика внутри markdown:**
- Заголовки `###` — `font-semibold`, увеличенный размер, `tracking-tight`
- Жирный текст — `font-medium` вместо грубого bold
- Списки — аккуратные отступы, мягкие буллеты
- Абзацы — приятный `leading-relaxed`

**Пустое состояние:**
- Более легкий, воздушный лейаут
- Быстрые вопросы с мягкими `backdrop-blur` карточками

**Поле ввода:**
- Скругленный `rounded-2xl` с мягкой тенью
- Кнопка отправки с плавным переходом

### 3. Файлы для изменения

**`src/components/AiAssistant.tsx`** — полный визуальный рефакторинг:
- Импорт `ReactMarkdown` из `react-markdown`
- Обернуть `msg.content` ассистента в `<ReactMarkdown>` с кастомными CSS-классами через `prose`
- Обновить классы пузырей: `bg-secondary/60 backdrop-blur-sm` для ассистента, градиент для пользователя
- Убрать иконки User/Bot из пузырей — чистый минимализм
- Обновить быстрые вопросы: `backdrop-blur`, `border-border/50`
- Скруглить поле ввода, добавить `shadow-sm`

### Технические детали

Добавляемая зависимость: `react-markdown`

Ключевой фрагмент для рендеринга ответов ассистента:
```tsx
import ReactMarkdown from "react-markdown";

// В пузыре ассистента:
<div className="max-w-[85%] rounded-2xl px-5 py-3.5 bg-secondary/60 backdrop-blur-sm">
  <div className="prose prose-sm prose-neutral dark:prose-invert max-w-none
    prose-headings:font-semibold prose-headings:tracking-tight
    prose-p:leading-relaxed prose-p:text-[14px]
    prose-li:text-[14px] prose-strong:font-semibold">
    <ReactMarkdown>{msg.content}</ReactMarkdown>
  </div>
</div>
```

Весь визуальный стиль достигается через Tailwind-классы, без отдельных CSS-файлов.

